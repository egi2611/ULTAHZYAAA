.shake-instruction {
  color: #800000;
  font-weight: bold;
  font-size: 1.05em;
  display: block;
  margin-bottom: 2px;
  animation: shakehint 1.2s infinite alternate;
}
@keyframes shakehint {
  0% { transform: rotate(-2deg); }
  100% { transform: rotate(2deg); }
}
.tap-instruction {
  color: #a52a2a;
  font-size: 0.98em;
  font-style: italic;
  display: block;
}
.open-instruction {
  color: #800000;
  font-size: 1.08em;
  margin: 10px 0 2px 0;
  font-weight: bold;
  text-shadow: 0 1px 6px #fff0f5cc;
  animation: fadein 1.2s;
}
@keyframes fadein {
  from { opacity: 0; }
  to { opacity: 1; }
}
@media (max-width: 600px) {
  .card {
    width: 96vw;
    padding: 18vw 2vw 22vw 2vw;
    min-width: unset;
    max-width: 99vw;
    font-size: 0.98em;
  }
  .title {
    font-size: 1.3em;
  }
  .name {
    font-size: 1.05em;
    padding: 6px 8px;
  }
  .message, .next-message, .secret-message, .cake-instruction {
    font-size: 0.98em;
  }
  .cake-illustration svg {
    width: 54vw !important;
    height: 54vw !important;
    min-width: 60px;
    min-height: 60px;
    max-width: 180px;
    max-height: 180px;
  }
  .open-btn {
    font-size: 1em;
    padding: 8px 12px;
  }
  .balloon svg {
    width: 38vw;
    height: 48vw;
    min-width: 40px;
    min-height: 54px;
    max-width: 90px;
    max-height: 120px;
  }
  .stars, .confetti {
    min-width: 100px;
    min-height: 100px;
  }
}
.cake-section {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin-bottom: 18px;
  z-index: 10;
}
.cake-illustration {
  margin-bottom: 6px;
  position: relative;
}
.flame {
  filter: drop-shadow(0 0 8px #ffd700cc);
  animation: flame-flicker 0.7s infinite alternate;
  cursor: pointer;
}
@keyframes flame-flicker {
  0% { transform: scaleY(1) scaleX(1) translateY(0); opacity: 1; }
  40% { transform: scaleY(1.1) scaleX(0.95) translateY(-2px); opacity: 0.85; }
  80% { transform: scaleY(0.9) scaleX(1.05) translateY(1px); opacity: 1; }
  100% { transform: scaleY(1) scaleX(1) translateY(0); opacity: 0.95; }
}
.cake-instruction {
  color: #800000;
  font-size: 1.08em;
  margin-bottom: 2px;
  font-style: italic;
  text-shadow: 0 1px 6px #fff0f5cc;
}
.open-btn {
  margin-top: 8px;
  display: none;
}
.show-btn .open-btn {
  display: inline-block;
}
.btn-anim {
  display: inline-block;
  animation: btn-shine 1.2s infinite alternate;
  font-size: 1.2em;
  filter: drop-shadow(0 0 6px #fff0f5);
}
@keyframes btn-shine {
  0% { transform: scale(1) rotate(-10deg); opacity: 0.7; }
  100% { transform: scale(1.3) rotate(10deg); opacity: 1; }
}

/* Pesan rahasia fade-in */
.secret-message {
  margin-top: 18px;
  color: #a52a2a;
  font-size: 1.08em;
  font-style: italic;
  background: #fff0f5cc;
  border-radius: 12px;
  padding: 10px 16px;
  box-shadow: 0 2px 8px #80000022;
  opacity: 0;
  transition: opacity 1s 1.2s;
}
.card.open .secret-message {
  opacity: 1;
}
.card.closed .secret-message {
  opacity: 0;
}
.name {
  font-family: 'Comic Sans MS', cursive, sans-serif;
  font-size: 1.4em;
  font-weight: bold;
  color: #fff0f5;
  background: linear-gradient(90deg, #800000 60%, #fff0f5 100%);
  border-radius: 16px;
  padding: 8px 18px;
  margin: 0 auto 18px auto;
  box-shadow: 0 0 16px 2px #fff0f5cc, 0 0 8px 2px #80000099;
  letter-spacing: 2px;
  text-shadow: 0 2px 8px #80000099, 0 0 12px #fff0f5;
  opacity: 0;
  transition: opacity 0.7s 0.3s;
  width: fit-content;
}
.card.open .name {
  opacity: 1;
}
.card.closed .name {
  opacity: 0;
}

/* Sparkle background */
.sparkle-bg {
  pointer-events: none;
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  z-index: 1;
  background: repeating-radial-gradient(circle at 30% 20%, #fff0f5cc 0 2px, transparent 3px 100px), repeating-radial-gradient(circle at 70% 80%, #fff0f599 0 1.5px, transparent 2px 100px);
  opacity: 0.7;
  animation: sparkle 2.5s linear infinite;
}
@keyframes sparkle {
  0% { opacity: 0.7; }
  50% { opacity: 1; }
  100% { opacity: 0.7; }
}

/* Stars decoration */
.stars {
  pointer-events: none;
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  z-index: 5;
}
.star {
  position: absolute;
  width: 18px;
  height: 18px;
  background: none;
  pointer-events: none;
  opacity: 0.85;
  animation: twinkle 2s infinite alternate;
}
.star svg {
  width: 100%; height: 100%;
}
@keyframes twinkle {
  0% { opacity: 0.7; transform: scale(1) rotate(0deg); }
  100% { opacity: 1; transform: scale(1.2) rotate(15deg); }
}
/* Halaman lanjutan */
.next-page {
  margin-top: 32px;
  min-height: 40px;
}
.next-message {
  color: #800000;
  font-size: 1.1em;
  opacity: 0;
  transition: opacity 0.8s 0.5s;
}
.card.open .next-message {
  opacity: 1;
}
.card.closed .next-message {
  opacity: 0;
}
body {
  background: #800000;
  min-height: 100vh;
  margin: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: 'Comic Sans MS', cursive, sans-serif;
}
.card {
  background: #fff0f5;
  border-radius: 24px 8px 8px 24px;
  box-shadow: 0 8px 32px rgba(128,0,0,0.3);
  padding: 40px 32px 60px 32px;
  text-align: center;
  position: relative;
  overflow: hidden;
  width: 350px;
  transition: transform 1.2s cubic-bezier(.77,0,.18,1), box-shadow 1s;
  transform: perspective(900px) rotateY(0deg);
  box-shadow: 0 8px 32px rgba(128,0,0,0.3);
  cursor: pointer;
  transform-origin: left center;
}
.card.closed {
  transform: perspective(900px) rotateY(-90deg);
  box-shadow: 0 2px 8px rgba(128,0,0,0.1);
}
.card.open {
  transform: perspective(900px) rotateY(0deg);
  box-shadow: 0 8px 32px rgba(128,0,0,0.3);
}
.card .title, .card .message, .balloon, .confetti {
  opacity: 0;
  transition: opacity 0.7s 0.2s;
}
.card.closed .title,
.card.closed .message,
.card.closed .balloon,
.card.closed .confetti {
  opacity: 0;
}
.card.open .title,
.card.open .message,
.card.open .balloon,
.card.open .confetti {
  opacity: 1;
}
.card .title {
  color: #800000;
  font-size: 2.2em;
  font-weight: bold;
  margin-bottom: 12px;
}
.card .message {
  color: #800000;
  font-size: 1.2em;
  margin-bottom: 24px;
}
.balloon {
  position: absolute;
  bottom: -80px;
  left: 50%;
  transform: translateX(-50%);
  animation: float 4s ease-in-out infinite;
  z-index: 2;
}
.balloon svg {
  width: 60px;
  height: 80px;
}
@keyframes float {
  0% { bottom: -80px; }
  50% { bottom: 60px; }
  100% { bottom: -80px; }
}
.confetti {
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  pointer-events: none;
  z-index: 3;
}
.open-btn {
  position: absolute;
  left: 50%;
  bottom: 16px;
  transform: translateX(-50%);
  background: #800000;
  color: #fff0f5;
  border: none;
  border-radius: 20px;
  padding: 10px 28px;
  font-size: 1.1em;
  cursor: pointer;
  box-shadow: 0 2px 8px rgba(128,0,0,0.2);
  transition: background 0.3s;
  z-index: 10;
}
.open-btn:hover {
  background: #a52a2a;
}
